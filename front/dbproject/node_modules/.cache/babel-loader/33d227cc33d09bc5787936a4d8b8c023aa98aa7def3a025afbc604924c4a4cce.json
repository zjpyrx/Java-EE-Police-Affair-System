{"ast":null,"code":"import _extends from \"@babel/runtime/helpers/esm/extends\";\nimport { createTheme, useCacheToken, useStyleRegister } from '../_util/cssinjs';\nimport version from '../version';\nimport { PresetColors } from './interface';\nimport defaultDerivative from './themes/default';\nimport defaultSeedToken from './themes/seed';\nimport formatToken from './util/alias';\nimport genComponentStyleHook from './util/genComponentStyleHook';\nimport statisticToken, { merge as mergeToken, statistic } from './util/statistic';\nimport { objectType } from '../_util/type';\nimport { defineComponent, provide, computed, inject, watchEffect, ref } from 'vue';\nimport { toReactive } from '../_util/toReactive';\nconst defaultTheme = createTheme(defaultDerivative);\nexport {\n// colors\nPresetColors,\n// Statistic\nstatistic, statisticToken, mergeToken,\n// hooks\nuseStyleRegister, genComponentStyleHook };\n// ================================ Context =================================\n// To ensure snapshot stable. We disable hashed in test env.\nexport const defaultConfig = {\n  token: defaultSeedToken,\n  hashed: true\n};\n//defaultConfig\nconst DesignTokenContextKey = Symbol('DesignTokenContext');\nexport const globalDesignTokenApi = ref();\nexport const useDesignTokenProvider = value => {\n  provide(DesignTokenContextKey, value);\n  watchEffect(() => {\n    globalDesignTokenApi.value = value;\n  });\n};\nexport const useDesignTokenInject = () => {\n  return inject(DesignTokenContextKey, globalDesignTokenApi.value || defaultConfig);\n};\nexport const DesignTokenProvider = defineComponent({\n  props: {\n    value: objectType()\n  },\n  setup(props, _ref) {\n    let {\n      slots\n    } = _ref;\n    useDesignTokenProvider(toReactive(computed(() => props.value)));\n    return () => {\n      var _a;\n      return (_a = slots.default) === null || _a === void 0 ? void 0 : _a.call(slots);\n    };\n  }\n});\n// ================================== Hook ==================================\nexport function useToken() {\n  const designTokenContext = inject(DesignTokenContextKey, globalDesignTokenApi.value || defaultConfig);\n  const salt = computed(() => `${version}-${designTokenContext.hashed || ''}`);\n  const mergedTheme = computed(() => designTokenContext.theme || defaultTheme);\n  const cacheToken = useCacheToken(mergedTheme, computed(() => [defaultSeedToken, designTokenContext.token]), computed(() => ({\n    salt: salt.value,\n    override: _extends({\n      override: designTokenContext.token\n    }, designTokenContext.components),\n    formatToken\n  })));\n  return [mergedTheme, computed(() => cacheToken.value[0]), computed(() => designTokenContext.hashed ? cacheToken.value[1] : '')];\n}","map":{"version":3,"names":["_extends","createTheme","useCacheToken","useStyleRegister","version","PresetColors","defaultDerivative","defaultSeedToken","formatToken","genComponentStyleHook","statisticToken","merge","mergeToken","statistic","objectType","defineComponent","provide","computed","inject","watchEffect","ref","toReactive","defaultTheme","defaultConfig","token","hashed","DesignTokenContextKey","Symbol","globalDesignTokenApi","useDesignTokenProvider","value","useDesignTokenInject","DesignTokenProvider","props","setup","_ref","slots","_a","default","call","useToken","designTokenContext","salt","mergedTheme","theme","cacheToken","override","components"],"sources":["C:/GitHubWarehouse/2023-TJU-DBD-Police-Affair-System/My-front/dbproject/node_modules/ant-design-vue/es/theme/internal.js"],"sourcesContent":["import _extends from \"@babel/runtime/helpers/esm/extends\";\r\nimport { createTheme, useCacheToken, useStyleRegister } from '../_util/cssinjs';\r\nimport version from '../version';\r\nimport { PresetColors } from './interface';\r\nimport defaultDerivative from './themes/default';\r\nimport defaultSeedToken from './themes/seed';\r\nimport formatToken from './util/alias';\r\nimport genComponentStyleHook from './util/genComponentStyleHook';\r\nimport statisticToken, { merge as mergeToken, statistic } from './util/statistic';\r\nimport { objectType } from '../_util/type';\r\nimport { defineComponent, provide, computed, inject, watchEffect, ref } from 'vue';\r\nimport { toReactive } from '../_util/toReactive';\r\nconst defaultTheme = createTheme(defaultDerivative);\r\nexport {\r\n// colors\r\nPresetColors,\r\n// Statistic\r\nstatistic, statisticToken, mergeToken,\r\n// hooks\r\nuseStyleRegister, genComponentStyleHook };\r\n// ================================ Context =================================\r\n// To ensure snapshot stable. We disable hashed in test env.\r\nexport const defaultConfig = {\r\n  token: defaultSeedToken,\r\n  hashed: true\r\n};\r\n//defaultConfig\r\nconst DesignTokenContextKey = Symbol('DesignTokenContext');\r\nexport const globalDesignTokenApi = ref();\r\nexport const useDesignTokenProvider = value => {\r\n  provide(DesignTokenContextKey, value);\r\n  watchEffect(() => {\r\n    globalDesignTokenApi.value = value;\r\n  });\r\n};\r\nexport const useDesignTokenInject = () => {\r\n  return inject(DesignTokenContextKey, globalDesignTokenApi.value || defaultConfig);\r\n};\r\nexport const DesignTokenProvider = defineComponent({\r\n  props: {\r\n    value: objectType()\r\n  },\r\n  setup(props, _ref) {\r\n    let {\r\n      slots\r\n    } = _ref;\r\n    useDesignTokenProvider(toReactive(computed(() => props.value)));\r\n    return () => {\r\n      var _a;\r\n      return (_a = slots.default) === null || _a === void 0 ? void 0 : _a.call(slots);\r\n    };\r\n  }\r\n});\r\n// ================================== Hook ==================================\r\nexport function useToken() {\r\n  const designTokenContext = inject(DesignTokenContextKey, globalDesignTokenApi.value || defaultConfig);\r\n  const salt = computed(() => `${version}-${designTokenContext.hashed || ''}`);\r\n  const mergedTheme = computed(() => designTokenContext.theme || defaultTheme);\r\n  const cacheToken = useCacheToken(mergedTheme, computed(() => [defaultSeedToken, designTokenContext.token]), computed(() => ({\r\n    salt: salt.value,\r\n    override: _extends({\r\n      override: designTokenContext.token\r\n    }, designTokenContext.components),\r\n    formatToken\r\n  })));\r\n  return [mergedTheme, computed(() => cacheToken.value[0]), computed(() => designTokenContext.hashed ? cacheToken.value[1] : '')];\r\n}"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}