{"ast":null,"code":"export default {\n  name: \"SIdentify\",\n  props: {\n    identifyCode: {\n      type: String,\n      default: '1234'\n    },\n    fontSizeMin: {\n      type: Number,\n      default: 25\n    },\n    fontSizeMax: {\n      type: Number,\n      default: 30\n    },\n    backgroundColorMin: {\n      type: Number,\n      default: 255\n    },\n    backgroundColorMax: {\n      type: Number,\n      default: 255\n    },\n    colorMin: {\n      type: Number,\n      default: 0\n    },\n    colorMax: {\n      type: Number,\n      default: 160\n    },\n    lineColorMin: {\n      type: Number,\n      default: 100\n    },\n    lineColorMax: {\n      type: Number,\n      default: 255\n    },\n    dotColorMin: {\n      type: Number,\n      default: 0\n    },\n    dotColorMax: {\n      type: Number,\n      default: 255\n    },\n    contentWidth: {\n      type: Number,\n      default: 112\n    },\n    contentHeight: {\n      type: Number,\n      default: 31\n    }\n  },\n  methods: {\n    // 生成一个随机数\n    randomNum(min, max) {\n      return Math.floor(Math.random() * (max - min) + min);\n    },\n    // 生成一个随机的颜色\n    randomColor(min, max) {\n      let r = this.randomNum(min, max);\n      let g = this.randomNum(min, max);\n      let b = this.randomNum(min, max);\n      return 'rgb(' + r + ',' + g + ',' + b + ')';\n    },\n    drawPic() {\n      let canvas = document.getElementById('s-canvas');\n      let ctx = canvas.getContext('2d');\n      ctx.textBaseline = 'bottom';\n      // 绘制背景\n      ctx.fillStyle = this.randomColor(this.backgroundColorMin, this.backgroundColorMax);\n      ctx.fillRect(0, 0, this.contentWidth, this.contentHeight);\n      // 绘制文字\n      for (let i = 0; i < this.identifyCode.length; i++) {\n        this.drawText(ctx, this.identifyCode[i], i);\n      }\n      this.drawLine(ctx);\n      this.drawDot(ctx);\n    },\n    drawText(ctx, txt, i) {\n      ctx.fillStyle = this.randomColor(this.colorMin, this.colorMax);\n      ctx.font = this.randomNum(this.fontSizeMin, this.fontSizeMax) + 'px SimHei';\n      let x = (i + 1) * (this.contentWidth / (this.identifyCode.length + 1));\n      let y = this.randomNum(this.fontSizeMax, this.contentHeight - 5);\n      var deg = this.randomNum(-45, 45);\n      // 修改坐标原点和旋转角度\n      ctx.translate(x, y);\n      ctx.rotate(deg * Math.PI / 180);\n      ctx.fillText(txt, 0, 0);\n      // 恢复坐标原点和旋转角度\n      ctx.rotate(-deg * Math.PI / 180);\n      ctx.translate(-x, -y);\n    },\n    drawLine(ctx) {\n      // 绘制干扰线\n      for (let i = 0; i < 5; i++) {\n        ctx.strokeStyle = this.randomColor(this.lineColorMin, this.lineColorMax);\n        ctx.beginPath();\n        ctx.moveTo(this.randomNum(0, this.contentWidth), this.randomNum(0, this.contentHeight));\n        ctx.lineTo(this.randomNum(0, this.contentWidth), this.randomNum(0, this.contentHeight));\n        ctx.stroke();\n      }\n    },\n    drawDot(ctx) {\n      // 绘制干扰点\n      for (let i = 0; i < 80; i++) {\n        ctx.fillStyle = this.randomColor(0, 255);\n        ctx.beginPath();\n        ctx.arc(this.randomNum(0, this.contentWidth), this.randomNum(0, this.contentHeight), 1, 0, 2 * Math.PI);\n        ctx.fill();\n      }\n    }\n  },\n  watch: {\n    identifyCode() {\n      this.drawPic();\n    }\n  },\n  mounted() {\n    this.drawPic();\n  }\n};","map":{"version":3,"names":["name","props","identifyCode","type","String","default","fontSizeMin","Number","fontSizeMax","backgroundColorMin","backgroundColorMax","colorMin","colorMax","lineColorMin","lineColorMax","dotColorMin","dotColorMax","contentWidth","contentHeight","methods","randomNum","min","max","Math","floor","random","randomColor","r","g","b","drawPic","canvas","document","getElementById","ctx","getContext","textBaseline","fillStyle","fillRect","i","length","drawText","drawLine","drawDot","txt","font","x","y","deg","translate","rotate","PI","fillText","strokeStyle","beginPath","moveTo","lineTo","stroke","arc","fill","watch","mounted"],"sources":["D:\\JavaProject\\Java-EE-Police-Affair-System\\front\\dbproject\\src\\components\\login\\Identify.vue"],"sourcesContent":["<template>\r\n    <div class=\"s-canvas\">\r\n        <canvas id=\"s-canvas\" :width=\"contentWidth\" :height=\"contentHeight\"></canvas>\r\n    </div>\r\n</template>\r\n \r\n<script>\r\n    export default {\r\n        name: \"SIdentify\",\r\n        props: {\r\n            identifyCode: {\r\n                type: String,\r\n                default: '1234'\r\n            },\r\n            fontSizeMin: {\r\n                type: Number,\r\n                default: 25\r\n            },\r\n            fontSizeMax: {\r\n                type: Number,\r\n                default: 30\r\n            },\r\n            backgroundColorMin: {\r\n                type: Number,\r\n                default: 255\r\n            },\r\n            backgroundColorMax: {\r\n                type: Number,\r\n                default: 255\r\n            },\r\n            colorMin: {\r\n                type: Number,\r\n                default: 0\r\n            },\r\n            colorMax: {\r\n                type: Number,\r\n                default: 160\r\n            },\r\n            lineColorMin: {\r\n                type: Number,\r\n                default: 100\r\n            },lineColorMax: {\r\n                type: Number,\r\n                default: 255\r\n            },\r\n            dotColorMin: {\r\n                type: Number,\r\n                default: 0\r\n            },\r\n            dotColorMax: {\r\n                type: Number,\r\n                default: 255\r\n            },\r\n            contentWidth: {\r\n                type: Number,\r\n                default: 112\r\n            },\r\n            contentHeight: {\r\n                type: Number,\r\n                default: 31\r\n            }\r\n        },\r\n        methods: {\r\n            // 生成一个随机数\r\n            randomNum(min, max) {\r\n                return Math.floor(Math.random() * (max - min) + min)\r\n            },\r\n            // 生成一个随机的颜色\r\n            randomColor(min, max) {\r\n                let r = this.randomNum(min, max)\r\n                let g = this.randomNum(min, max)\r\n                let b = this.randomNum(min, max)\r\n                return 'rgb(' + r + ',' + g + ',' + b + ')'\r\n            },\r\n            drawPic() {\r\n                let canvas = document.getElementById('s-canvas')\r\n                let ctx = canvas.getContext('2d')\r\n                ctx.textBaseline = 'bottom'\r\n                // 绘制背景\r\n                ctx.fillStyle = this.randomColor(this.backgroundColorMin, this.backgroundColorMax)\r\n                ctx.fillRect(0, 0, this.contentWidth, this.contentHeight)\r\n                // 绘制文字\r\n                for (let i = 0; i < this.identifyCode.length; i++) {\r\n                    this.drawText(ctx, this.identifyCode[i], i)\r\n                }\r\n                this.drawLine(ctx)\r\n                this.drawDot(ctx)\r\n            },\r\n            drawText(ctx, txt, i) {\r\n                ctx.fillStyle = this.randomColor(this.colorMin, this.colorMax)\r\n                ctx.font = this.randomNum(this.fontSizeMin, this.fontSizeMax) + 'px SimHei'\r\n                let x = (i + 1) * (this.contentWidth / (this.identifyCode.length + 1))\r\n                let y = this.randomNum(this.fontSizeMax, this.contentHeight - 5)\r\n                var deg = this.randomNum(-45, 45)\r\n                // 修改坐标原点和旋转角度\r\n                ctx.translate(x, y)\r\n                ctx.rotate(deg * Math.PI / 180)\r\n                ctx.fillText(txt, 0, 0)\r\n                // 恢复坐标原点和旋转角度\r\n                ctx.rotate(-deg * Math.PI / 180)\r\n                ctx.translate(-x, -y)\r\n            },\r\n            drawLine(ctx) {\r\n                // 绘制干扰线\r\n                for (let i = 0; i < 5; i++) {\r\n                    ctx.strokeStyle = this.randomColor(this.lineColorMin, this.lineColorMax)\r\n                    ctx.beginPath()\r\n                    ctx.moveTo(this.randomNum(0, this.contentWidth), this.randomNum(0, this.contentHeight))\r\n                    ctx.lineTo(this.randomNum(0, this.contentWidth), this.randomNum(0, this.contentHeight))\r\n                    ctx.stroke()\r\n                }\r\n            },\r\n            drawDot(ctx) {\r\n                // 绘制干扰点\r\n                for (let i = 0; i < 80; i++) {\r\n                    ctx.fillStyle = this.randomColor(0, 255)\r\n                    ctx.beginPath()\r\n                    ctx.arc(this.randomNum(0, this.contentWidth), this.randomNum(0, this.contentHeight), 1, 0, 2 * Math.PI)\r\n                    ctx.fill()\r\n                }\r\n            }\r\n        },\r\n        watch: {\r\n            identifyCode() {\r\n                this.drawPic()\r\n            }\r\n        },\r\n        mounted() {\r\n            this.drawPic()\r\n        }\r\n    }\r\n</script>\r\n \r\n<style scoped>\r\n    .s-canvas {\r\n        height: 38px;\r\n \r\n    }\r\n    .s-canvas canvas{\r\n        margin-top: 1px;\r\n        margin-left: 8px;\r\n    }\r\n</style>"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}