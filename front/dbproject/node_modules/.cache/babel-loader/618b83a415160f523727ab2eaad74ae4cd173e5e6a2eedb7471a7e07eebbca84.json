{"ast":null,"code":"import \"core-js/modules/es.array.push.js\";\nimport axios from \"../../api/request\";\nexport default {\n  data() {\n    return {\n      parameter1: localStorage.getItem('CPid'),\n      parameter2: localStorage.getItem('CPname'),\n      my_number: localStorage.getItem('CPmynumber'),\n      selectedLevel: '0',\n      // 默认选择的权限级别为0\n      reason: '',\n      // 申请修改权限的理由\n      disablesubmit: true,\n      status: '待处理',\n      submittedSucessfully: false,\n      returnmessage: ''\n    };\n  },\n  watch: {\n    reason() {\n      // 监听 reason 的变化，如果为空则禁用提交按钮，否则启用\n      this.disablesubmit = this.reason.trim() === '';\n    }\n  },\n  methods: {\n    submitPermission() {\n      // 在这里处理提交权限的逻辑\n      axios.post('http://localhost:7078/api/permit', {\n        h_number: this.my_number,\n        s_number: this.parameter1,\n        F_level: '0',\n        L_level: this.selectedLevel,\n        status: this.status,\n        reason: this.reason\n      }).then(response => {\n        console.log(response);\n        this.searchResult = response.data;\n        if (response.statusText == 'OK') {\n          this.returnmessage = '提交成功！';\n        } else {\n          this.returnmessage = response.data;\n        }\n        this.submittedSucessfully = true;\n      });\n    },\n    handleMouseMove(event) {\n      const x = event.pageX - event.target.offsetLeft;\n      const y = event.pageY - event.target.offsetTop;\n      event.target.style.setProperty('--x', `${x}px`);\n      event.target.style.setProperty('--y', `${y}px`);\n    },\n    returntoCP() {\n      this.$router.push('/mainMenu/ChangePermission');\n    },\n    handleClose() {\n      this.submittedSucessfully = false;\n    }\n  }\n};","map":{"version":3,"names":["axios","data","parameter1","localStorage","getItem","parameter2","my_number","selectedLevel","reason","disablesubmit","status","submittedSucessfully","returnmessage","watch","trim","methods","submitPermission","post","h_number","s_number","F_level","L_level","then","response","console","log","searchResult","statusText","handleMouseMove","event","x","pageX","target","offsetLeft","y","pageY","offsetTop","style","setProperty","returntoCP","$router","push","handleClose"],"sources":["D:\\Work\\大二下\\DB小学期\\gitspace11\\2023-TJU-DBD-Police-Affair-System\\My-front\\dbproject\\src\\components\\PoliceManagement\\ApplyForPermission.vue"],"sourcesContent":["<template>\r\n  <el-header class=\"sub-header\" @mousemove=\"handleMouseMove\">\r\n      <div>&nbsp;&nbsp;警员管理&nbsp;>&nbsp;警员权限修改&nbsp;>&nbsp;申请修改权限</div>\r\n    </el-header>\r\n    <div class=\"container\">\r\n      <div class=\"ssqtitletest\"><span>提&nbsp;交&nbsp;申&nbsp;请</span></div>\r\n      <div class=\"content\">  \r\n        <div style=\"margin-top:40px;margin-left:25%;font-size: 20px;\">\r\n          <div style=\"display:inline-block;color:#524c3e\"><b>警员警号:</b></div>\r\n          <div style=\"margin-left:120px;display:inline-block;color:#4853ea\">{{ parameter1 }}</div>\r\n        </div>\r\n        <div style=\"margin-top:30px;margin-left:25%;font-size: 20px;\">\r\n          <div style=\"display:inline-block;color:#524c3e\"><b>警员姓名:</b></div>\r\n          <div style=\"margin-left:120px;display:inline-block;color:#4853ea\">{{ parameter2 }}</div>\r\n        </div>\r\n        <div style=\"margin-top:30px;margin-left:25%;font-size: 20px;\">\r\n          <label for=\"permission-select\" style=\"color:#524c3e\" ><b>申请修改至等级:</b></label>\r\n          <select class=\"select\" id=\"permission-select\" v-model=\"selectedLevel\">\r\n            <option value=\"0\">0</option>\r\n            <option value=\"1\">1</option>\r\n            <option value=\"2\">2</option>\r\n            <option value=\"3\">3</option>\r\n            <option value=\"4\">4</option>\r\n            <option value=\"5\">5</option>\r\n          </select>\r\n        </div>\r\n\r\n      <div style=\"margin-top:40px;margin-left:25%;font-size: 20px;\">\r\n      <label for=\"reason-input\" style=\"top:5px;color:#524c3e\"><b>修改理由:</b></label>\r\n      <el-input class=\"reasoninput\" type=\"textarea\" id=\"reason-input\" v-model=\"reason\" />\r\n      </div>\r\n      <el-button class=\"cpbutton\" style=\"line-height: 40px;\" @click=\"submitPermission\" :disabled=\"disablesubmit\"><span>提交申请</span></el-button>\r\n      <button class=\"cpbutton\" style=\"margin-top:20px;\" @click=\"returntoCP\"><span>返回上一级</span></button>\r\n      <el-dialog title=\"提交成功\" v-model=\"submittedSucessfully\" @close=\"handleClose\">{{ this.returnmessage }}\r\n        <button style=\"margin-top:20px;right:20px;\" @click=\"returntoCP\"><span>返回</span></button>\r\n      </el-dialog>\r\n    </div>\r\n  </div>\r\n  </template>\r\n\r\n<script>\r\nimport axios from \"../../api/request\"\r\nexport default {\r\n  data() {\r\n    return {\r\n      parameter1: localStorage.getItem('CPid'),\r\n      parameter2: localStorage.getItem('CPname'),\r\n      my_number: localStorage.getItem('CPmynumber'),\r\n      selectedLevel: '0', // 默认选择的权限级别为0\r\n      reason: '', // 申请修改权限的理由\r\n      disablesubmit: true,\r\n      status: '待处理',\r\n      submittedSucessfully: false,\r\n      returnmessage:'',\r\n    }\r\n  },\r\n  watch: {\r\n    reason() {\r\n    // 监听 reason 的变化，如果为空则禁用提交按钮，否则启用\r\n      this.disablesubmit = this.reason.trim() === ''\r\n    }\r\n  },\r\n  methods: {\r\n    submitPermission() {\r\n      // 在这里处理提交权限的逻辑\r\n      axios.post('http://localhost:7078/api/permit', {h_number: this.my_number, s_number: this.parameter1, F_level: '0', L_level: this.selectedLevel, status: this.status, reason: this.reason})\r\n        .then(response => {\r\n          console.log(response);\r\n          this.searchResult = response.data;\r\n          if(response.statusText=='OK'){\r\n            this.returnmessage='提交成功！';\r\n          }else{\r\n            this.returnmessage=response.data;\r\n          }\r\n          this.submittedSucessfully = true;\r\n        })\r\n    },\r\n    handleMouseMove(event) {\r\n      const x = event.pageX - event.target.offsetLeft;\r\n      const y = event.pageY - event.target.offsetTop;\r\n\r\n      event.target.style.setProperty('--x', `${x}px`);\r\n      event.target.style.setProperty('--y', `${y}px`);\r\n    },\r\n    returntoCP(){\r\n      this.$router.push('/mainMenu/ChangePermission');\r\n    },\r\n    handleClose() {\r\n      this.submittedSucessfully = false;\r\n    },\r\n  }\r\n}\r\n</script>\r\n\r\n\r\n<style scoped>\r\n.ssqtitletest {\r\n    margin:10px auto;\r\n    min-width:800px;\r\n    height:40px;\r\n    padding:0 30px;\r\n    line-height: 60px;\r\n    text-align: center;\r\n    position: relative;\r\n    appearance: none;\r\n    background: #4b55e0;\r\n    box-shadow: inset -500px 0px 100px 0px #1d269b;\r\n    border: none;\r\n    color: white;\r\n    font-size: 25px;\r\n    outline: none;\r\n    overflow: hidden;\r\n    border-radius: 0px;\r\n  }\r\n  .ssqtitletest span {\r\n    position: relative;\r\n    top: -20%;\r\n  }\r\n.sub-header {\r\n    overflow: hidden;\r\n    display: flex;\r\n    position: absolute;\r\n    top: 70px;\r\n    left: 199px;\r\n    width: calc(100% - 199px);\r\n    height: 7vh;\r\n    min-height: 40px;\r\n    align-items: center; /* 文字竖直方向居中对齐 */\r\n    background-color: #1f2cdf;\r\n    box-shadow: inset -500px 0px 200px 0px rgba(4, 0, 113, 0.856);\r\n    color: #ffffff;\r\n    font-size: 28px;\r\n  }\r\n  .sub-header::before {\r\n    --size: 0;\r\n    content: '';\r\n    position: absolute;\r\n    left: var(--x);\r\n    top: var(--y);\r\n    width: var(--size);\r\n    height: var(--size);\r\n    background: radial-gradient(circle closest-side, #5a65ff, transparent);\r\n    transform: translate(-50%, -50%);\r\n    transition: width .2s ease, height .2s ease;\r\n  }\r\n  .sub-header:hover::before {\r\n    --size: 400px;\r\n  }\r\n  .container {\r\n    margin-top:10vh;\r\n    min-width: 700px;\r\n    display: flex;\r\n    flex-direction: column;\r\n    justify-content: center;\r\n    align-items: center;\r\n  }\r\n  .content {\r\n    width: 50%;\r\n    min-width: 800px;\r\n    height: 850px;\r\n    box-shadow: 0px 0px 10px 2px rgba(123, 103, 75, 0.427);\r\n    background-color: rgba(255, 255, 255, 0.616); \r\n    margin-bottom: 30px;\r\n    display: flex;\r\n    flex-direction: column;\r\n    justify-content: flex-start;\r\n    margin-top: 16px;\r\n    padding: 16px;\r\n  \r\n    border-radius: 5px;\r\n    box-shadow: #9a9a9a 0px 0px 6px;\r\n    box-shadow: #777777 0px 0px 3px;\r\n    border-top: #0051ff 3px solid;\r\n    border-top: solid 3px transparent;\r\n  }\r\n  .select {\r\n    width: 200px;\r\n    height: 30px;\r\n    border: 1px solid #0051ff;\r\n    box-shadow: #0051ff3a 0px 4px 5px;\r\n    margin-left: 60px;\r\n  }\r\n  .reasoninput{\r\n    margin-left: 120px;\r\n    width:200px;\r\n    border: 1px solid #0051ff;\r\n    box-shadow: #0051ff3a 0px 4px 4px;\r\n  }\r\n\r\n  \r\n.cpbutton {\r\n    margin-top:60px;\r\n    margin-left:55%;\r\n    bottom: -6px;\r\n    width:120px;\r\n    height:40px;\r\n    padding:0 10px;\r\n    line-height: 55px;\r\n    text-align: center;\r\n    position: relative;\r\n    appearance: none;\r\n    background: #4a54df;\r\n    border: none;\r\n    color: white;\r\n    font-size: 20px;\r\n    cursor: pointer;\r\n    outline: none;\r\n    overflow: hidden;\r\n    border-radius: 100px;\r\n    display: block;\r\n  }\r\n\r\n  .cpbutton span {\r\n    position: relative;\r\n    top: -20%;\r\n  }\r\n\r\n  .cpbutton::before {\r\n    --size: 0;\r\n    content: '';\r\n    position: absolute;\r\n    left: var(--x);\r\n    top: var(--y);\r\n    width: var(--size);\r\n    height: var(--size);\r\n    background: radial-gradient(circle closest-side, #d7caaa, transparent);\r\n    transform: translate(-50%, -50%);\r\n    transition: width .2s ease, height .2s ease;\r\n  }\r\n  .disabled-button {\r\n    background:  #e8e9f1;\r\n  }\r\n\r\n  .cpbutton:hover::before {\r\n    --size: 400px;\r\n  }\r\n</style>\r\n"],"mappings":";AAyCA,OAAOA,KAAI,MAAO,mBAAkB;AACpC,eAAe;EACbC,IAAIA,CAAA,EAAG;IACL,OAAO;MACLC,UAAU,EAAEC,YAAY,CAACC,OAAO,CAAC,MAAM,CAAC;MACxCC,UAAU,EAAEF,YAAY,CAACC,OAAO,CAAC,QAAQ,CAAC;MAC1CE,SAAS,EAAEH,YAAY,CAACC,OAAO,CAAC,YAAY,CAAC;MAC7CG,aAAa,EAAE,GAAG;MAAE;MACpBC,MAAM,EAAE,EAAE;MAAE;MACZC,aAAa,EAAE,IAAI;MACnBC,MAAM,EAAE,KAAK;MACbC,oBAAoB,EAAE,KAAK;MAC3BC,aAAa,EAAC;IAChB;EACF,CAAC;EACDC,KAAK,EAAE;IACLL,MAAMA,CAAA,EAAG;MACT;MACE,IAAI,CAACC,aAAY,GAAI,IAAI,CAACD,MAAM,CAACM,IAAI,CAAC,MAAM,EAAC;IAC/C;EACF,CAAC;EACDC,OAAO,EAAE;IACPC,gBAAgBA,CAAA,EAAG;MACjB;MACAhB,KAAK,CAACiB,IAAI,CAAC,kCAAkC,EAAE;QAACC,QAAQ,EAAE,IAAI,CAACZ,SAAS;QAAEa,QAAQ,EAAE,IAAI,CAACjB,UAAU;QAAEkB,OAAO,EAAE,GAAG;QAAEC,OAAO,EAAE,IAAI,CAACd,aAAa;QAAEG,MAAM,EAAE,IAAI,CAACA,MAAM;QAAEF,MAAM,EAAE,IAAI,CAACA;MAAM,CAAC,EACtLc,IAAI,CAACC,QAAO,IAAK;QAChBC,OAAO,CAACC,GAAG,CAACF,QAAQ,CAAC;QACrB,IAAI,CAACG,YAAW,GAAIH,QAAQ,CAACtB,IAAI;QACjC,IAAGsB,QAAQ,CAACI,UAAU,IAAE,IAAI,EAAC;UAC3B,IAAI,CAACf,aAAa,GAAC,OAAO;QAC5B,CAAC,MAAI;UACH,IAAI,CAACA,aAAa,GAACW,QAAQ,CAACtB,IAAI;QAClC;QACA,IAAI,CAACU,oBAAmB,GAAI,IAAI;MAClC,CAAC;IACL,CAAC;IACDiB,eAAeA,CAACC,KAAK,EAAE;MACrB,MAAMC,CAAA,GAAID,KAAK,CAACE,KAAI,GAAIF,KAAK,CAACG,MAAM,CAACC,UAAU;MAC/C,MAAMC,CAAA,GAAIL,KAAK,CAACM,KAAI,GAAIN,KAAK,CAACG,MAAM,CAACI,SAAS;MAE9CP,KAAK,CAACG,MAAM,CAACK,KAAK,CAACC,WAAW,CAAC,KAAK,EAAG,GAAER,CAAE,IAAG,CAAC;MAC/CD,KAAK,CAACG,MAAM,CAACK,KAAK,CAACC,WAAW,CAAC,KAAK,EAAG,GAAEJ,CAAE,IAAG,CAAC;IACjD,CAAC;IACDK,UAAUA,CAAA,EAAE;MACV,IAAI,CAACC,OAAO,CAACC,IAAI,CAAC,4BAA4B,CAAC;IACjD,CAAC;IACDC,WAAWA,CAAA,EAAG;MACZ,IAAI,CAAC/B,oBAAmB,GAAI,KAAK;IACnC;EACF;AACF"},"metadata":{},"sourceType":"module","externalDependencies":[]}