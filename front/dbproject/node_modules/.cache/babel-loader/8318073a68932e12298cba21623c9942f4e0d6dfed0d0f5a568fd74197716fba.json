{"ast":null,"code":"import { createVNode as _createVNode } from \"vue\";\nimport Menu, { Item as MenuItem } from '../../menu';\nimport { onBeforeUnmount, defineComponent, inject, shallowRef } from 'vue';\nimport MentionsContextKey from './MentionsContext';\nimport Spin from '../../spin';\nfunction noop() {}\nexport default defineComponent({\n  compatConfig: {\n    MODE: 3\n  },\n  name: 'DropdownMenu',\n  props: {\n    prefixCls: String,\n    options: {\n      type: Array,\n      default: () => []\n    }\n  },\n  setup(props, _ref) {\n    let {\n      slots\n    } = _ref;\n    const {\n      activeIndex,\n      setActiveIndex,\n      selectOption,\n      onFocus = noop,\n      loading\n    } = inject(MentionsContextKey, {\n      activeIndex: shallowRef(),\n      loading: shallowRef(false)\n    });\n    let timeoutId;\n    const onMousedown = e => {\n      clearTimeout(timeoutId);\n      timeoutId = setTimeout(() => {\n        onFocus(e);\n      });\n    };\n    onBeforeUnmount(() => {\n      clearTimeout(timeoutId);\n    });\n    return () => {\n      var _a;\n      const {\n        prefixCls,\n        options\n      } = props;\n      const activeOption = options[activeIndex.value] || {};\n      return _createVNode(Menu, {\n        \"prefixCls\": `${prefixCls}-menu`,\n        \"activeKey\": activeOption.value,\n        \"onSelect\": _ref2 => {\n          let {\n            key\n          } = _ref2;\n          const option = options.find(_ref3 => {\n            let {\n              value\n            } = _ref3;\n            return value === key;\n          });\n          selectOption(option);\n        },\n        \"onMousedown\": onMousedown\n      }, {\n        default: () => [!loading.value && options.map((option, index) => {\n          var _a, _b;\n          const {\n            value,\n            disabled,\n            label = option.value,\n            class: className,\n            style\n          } = option;\n          return _createVNode(MenuItem, {\n            \"key\": value,\n            \"disabled\": disabled,\n            \"onMouseenter\": () => {\n              setActiveIndex(index);\n            },\n            \"class\": className,\n            \"style\": style\n          }, {\n            default: () => [(_b = (_a = slots.option) === null || _a === void 0 ? void 0 : _a.call(slots, option)) !== null && _b !== void 0 ? _b : typeof label === 'function' ? label(option) : label]\n          });\n        }), !loading.value && options.length === 0 ? _createVNode(MenuItem, {\n          \"key\": \"notFoundContent\",\n          \"disabled\": true\n        }, {\n          default: () => [(_a = slots.notFoundContent) === null || _a === void 0 ? void 0 : _a.call(slots)]\n        }) : null, loading.value && _createVNode(MenuItem, {\n          \"key\": \"loading\",\n          \"disabled\": true\n        }, {\n          default: () => [_createVNode(Spin, {\n            \"size\": \"small\"\n          }, null)]\n        })]\n      });\n    };\n  }\n});","map":{"version":3,"names":["createVNode","_createVNode","Menu","Item","MenuItem","onBeforeUnmount","defineComponent","inject","shallowRef","MentionsContextKey","Spin","noop","compatConfig","MODE","name","props","prefixCls","String","options","type","Array","default","setup","_ref","slots","activeIndex","setActiveIndex","selectOption","onFocus","loading","timeoutId","onMousedown","e","clearTimeout","setTimeout","_a","activeOption","value","_ref2","key","option","find","_ref3","map","index","_b","disabled","label","class","className","style","onMouseenter","call","length","notFoundContent"],"sources":["D:/Work/大二下/DB小学期/gitspace11/2023-TJU-DBD-Police-Affair-System/My-front/dbproject/node_modules/ant-design-vue/es/vc-mentions/src/DropdownMenu.js"],"sourcesContent":["import { createVNode as _createVNode } from \"vue\";\r\nimport Menu, { Item as MenuItem } from '../../menu';\r\nimport { onBeforeUnmount, defineComponent, inject, shallowRef } from 'vue';\r\nimport MentionsContextKey from './MentionsContext';\r\nimport Spin from '../../spin';\r\nfunction noop() {}\r\nexport default defineComponent({\r\n  compatConfig: {\r\n    MODE: 3\r\n  },\r\n  name: 'DropdownMenu',\r\n  props: {\r\n    prefixCls: String,\r\n    options: {\r\n      type: Array,\r\n      default: () => []\r\n    }\r\n  },\r\n  setup(props, _ref) {\r\n    let {\r\n      slots\r\n    } = _ref;\r\n    const {\r\n      activeIndex,\r\n      setActiveIndex,\r\n      selectOption,\r\n      onFocus = noop,\r\n      loading\r\n    } = inject(MentionsContextKey, {\r\n      activeIndex: shallowRef(),\r\n      loading: shallowRef(false)\r\n    });\r\n    let timeoutId;\r\n    const onMousedown = e => {\r\n      clearTimeout(timeoutId);\r\n      timeoutId = setTimeout(() => {\r\n        onFocus(e);\r\n      });\r\n    };\r\n    onBeforeUnmount(() => {\r\n      clearTimeout(timeoutId);\r\n    });\r\n    return () => {\r\n      var _a;\r\n      const {\r\n        prefixCls,\r\n        options\r\n      } = props;\r\n      const activeOption = options[activeIndex.value] || {};\r\n      return _createVNode(Menu, {\r\n        \"prefixCls\": `${prefixCls}-menu`,\r\n        \"activeKey\": activeOption.value,\r\n        \"onSelect\": _ref2 => {\r\n          let {\r\n            key\r\n          } = _ref2;\r\n          const option = options.find(_ref3 => {\r\n            let {\r\n              value\r\n            } = _ref3;\r\n            return value === key;\r\n          });\r\n          selectOption(option);\r\n        },\r\n        \"onMousedown\": onMousedown\r\n      }, {\r\n        default: () => [!loading.value && options.map((option, index) => {\r\n          var _a, _b;\r\n          const {\r\n            value,\r\n            disabled,\r\n            label = option.value,\r\n            class: className,\r\n            style\r\n          } = option;\r\n          return _createVNode(MenuItem, {\r\n            \"key\": value,\r\n            \"disabled\": disabled,\r\n            \"onMouseenter\": () => {\r\n              setActiveIndex(index);\r\n            },\r\n            \"class\": className,\r\n            \"style\": style\r\n          }, {\r\n            default: () => [(_b = (_a = slots.option) === null || _a === void 0 ? void 0 : _a.call(slots, option)) !== null && _b !== void 0 ? _b : typeof label === 'function' ? label(option) : label]\r\n          });\r\n        }), !loading.value && options.length === 0 ? _createVNode(MenuItem, {\r\n          \"key\": \"notFoundContent\",\r\n          \"disabled\": true\r\n        }, {\r\n          default: () => [(_a = slots.notFoundContent) === null || _a === void 0 ? void 0 : _a.call(slots)]\r\n        }) : null, loading.value && _createVNode(MenuItem, {\r\n          \"key\": \"loading\",\r\n          \"disabled\": true\r\n        }, {\r\n          default: () => [_createVNode(Spin, {\r\n            \"size\": \"small\"\r\n          }, null)]\r\n        })]\r\n      });\r\n    };\r\n  }\r\n});"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}