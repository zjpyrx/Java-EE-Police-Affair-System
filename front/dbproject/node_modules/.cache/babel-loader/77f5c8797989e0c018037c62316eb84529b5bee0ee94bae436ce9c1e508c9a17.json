{"ast":null,"code":"import axios from \"axios\";\nexport default {\n  data() {\n    return {\n      inputCaseID: \"\",\n      inputPoliceID: \"\",\n      caseContent: [],\n      policeContent: [],\n      policeInfo: [[]],\n      caseQueryFlag: -1,\n      caseChooseFlag: 0,\n      caseQueryAgainFlag: 0,\n      policeQueryFlag: -1,\n      policeChooseFlag: 0,\n      policeChooseFlagArray: [],\n      policeCount: 0,\n      finalConfirmFlag: 0,\n      x: 0,\n      i: 0\n    };\n  },\n  methods: {\n    queryCase() {\n      axios.post(\"http://localhost:7078/api/queryCase\", {\n        InputTextCase: this.inputCaseID\n      }).then(response => {\n        this.caseContent = response.data;\n        if (this.caseContent[0] !== null) {\n          this.caseQueryFlag = 1;\n          this.policeChooseFlag = 0;\n        } else {\n          this.caseQueryFlag = 0;\n        }\n      }).catch(error => {\n        console.error(error);\n      });\n    },\n    queryPolice() {\n      axios.post(\"http://localhost:7078/api/queryPolice\", {\n        InputTextPolice: this.inputPoliceID\n      }).then(response => {\n        this.policeContent = response.data;\n        if (this.policeContent[0] !== null) {\n          this.policeQueryFlag = 1;\n          this.policeChooseFlag = 0;\n        } else {\n          this.policeQueryFlag = 0;\n        }\n      }).catch(error => {\n        console.error(error);\n      });\n    },\n    confirmCase() {\n      this.inputCaseID = \"\";\n      this.caseChooseFlag = 1;\n    },\n    confirmCaseAgain() {\n      this.inputCaseID = \"\";\n      this.inputPoliceID = \"\";\n      this.caseContent = [];\n      this.policeContent = [];\n      this.policeInfo = [[]];\n      this.caseQueryFlag = -1;\n      this.caseChooseFlag = 0;\n      this.caseQueryAgainFlag = 0;\n      this.policeQueryFlag = -1;\n      this.policeChooseFlag = 0;\n      this.policeChooseFlagArray = [];\n      this.policeCount = 0;\n      this.finalConfirmFlag = 0;\n      this.x = 0;\n      this.i = 0;\n    },\n    confirmPolice() {\n      this.inputPoliceID = \"\";\n      this.policeChooseFlag = 1;\n      this.policeChooseFlagArray[this.policeCount] = 1;\n      this.policeInfo[this.policeCount] = this.policeContent;\n      this.policeCount += 1;\n    },\n    deletePolice() {\n      this.policeChooseFlagArray[this.i] = 0;\n      this.policeCount -= 1;\n      for (this.x = this.i + 1; this.x <= this.policeInfo.length; this.x++) {\n        this.policeInfo[this.i] = this.policeInfo[this.i + 1];\n      }\n      this.policeInfo.length -= 1;\n      this.policeQueryFlag = -1;\n    },\n    finalConfirm() {\n      this.finalConfirmFlag = 1;\n      axios.put(\"http://localhost:7078/api/modifyCaseStatus\", {\n        InputCase: this.caseContent[0]\n      });\n    },\n    next() {\n      this.inputCaseID = \"\";\n      this.inputPoliceID = \"\";\n      this.caseContent = [];\n      this.policeContent = [];\n      this.policeInfo = [[]];\n      this.caseQueryFlag = -1;\n      this.caseChooseFlag = 0;\n      this.caseQueryAgainFlag = 0;\n      this.policeQueryFlag = -1;\n      this.policeChooseFlag = 0;\n      this.policeChooseFlagArray = [];\n      this.policeCount = 0;\n      this.finalConfirmFlag = 0;\n      this.x = 0;\n      this.i = 0;\n    }\n  }\n};","map":{"version":3,"names":["axios","data","inputCaseID","inputPoliceID","caseContent","policeContent","policeInfo","caseQueryFlag","caseChooseFlag","caseQueryAgainFlag","policeQueryFlag","policeChooseFlag","policeChooseFlagArray","policeCount","finalConfirmFlag","x","i","methods","queryCase","post","InputTextCase","then","response","catch","error","console","queryPolice","InputTextPolice","confirmCase","confirmCaseAgain","confirmPolice","deletePolice","length","finalConfirm","put","InputCase","next"],"sources":["C:\\GitHubWarehouse\\2023-TJU-DBD-Police-Affair-System\\My-front\\dbproject\\src\\components\\CaseInvestigation.vue"],"sourcesContent":["<template>\r\n  <el-header class=\"sub-header\">\r\n    <div>&nbsp;&nbsp;警务处理系统&nbsp;>&nbsp;案件办理</div>\r\n  </el-header>\r\n\r\n  <div class=\"main\">\r\n    <h1 class=\"title\">组成办案组</h1>\r\n    <div>\r\n      <div v-if=\"finalConfirmFlag == 0\">\r\n        <input type=\"text\" v-model=\"inputCaseID\" placeholder=\"请输入案件编号\" />\r\n        <p v-if=\"caseChooseFlag == 0\">\r\n          <button @click=\"queryCase\">查询</button>\r\n        </p>\r\n        <p v-else>\r\n          <button :disabled=\"true\">查询</button>\r\n        </p>\r\n      </div>\r\n      <div v-if=\"caseContent[2] == '立案' && caseQueryAgainFlag == 0\">\r\n        <div class=\"caseContainer\">\r\n          <p><br /></p>\r\n          <p>&nbsp;&nbsp;&nbsp;&nbsp;案件编号：{{ caseContent[0] }}</p>\r\n          <p>&nbsp;&nbsp;&nbsp;&nbsp;案件类型：{{ caseContent[1] }}</p>\r\n          <p>&nbsp;&nbsp;&nbsp;&nbsp;案件状态：{{ caseContent[2] }}</p>\r\n          <p>&nbsp;&nbsp;&nbsp;&nbsp;案件等级：{{ caseContent[3] }}</p>\r\n          <div v-if=\"caseChooseFlag == 0\">\r\n            &nbsp;&nbsp;&nbsp;&nbsp;\r\n            <button @click=\"confirmCase\">确认选择</button>\r\n          </div>\r\n          <div v-else>\r\n            <p v-if=\"finalConfirmFlag == 0\">\r\n              &nbsp;&nbsp;&nbsp;&nbsp;\r\n              <button @click=\"confirmCaseAgain\">重新选择案件</button>\r\n            </p>\r\n          </div>\r\n          <p><br /></p>\r\n        </div>\r\n        <div v-if=\"caseChooseFlag == 1\">\r\n          <p v-if=\"finalConfirmFlag == 0\">\r\n            <input\r\n              type=\"text\"\r\n              v-model=\"inputPoliceID\"\r\n              placeholder=\"请输入警员编号\"\r\n            />\r\n          </p>\r\n          <p v-if=\"finalConfirmFlag == 0\">\r\n            <button @click=\"queryPolice\">查询</button>\r\n          </p>\r\n          <div v-if=\"policeContent[3] == '在职'\">\r\n            <div v-if=\"policeCount !== 0 && policeInfo[0][0] !== null\">\r\n              <div v-for=\"(field, i) in policeInfo\" :key=\"field[0]\">\r\n                <div class=\"policeContainer\">\r\n                  <p><br />&nbsp;&nbsp;&nbsp;&nbsp;办案组成员 {{ i + 1 }}</p>\r\n                  <p>\r\n                    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;警员编号：{{\r\n                      field[0]\r\n                    }}\r\n                  </p>\r\n                  <p>\r\n                    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;姓名：{{\r\n                      field[1]\r\n                    }}\r\n                  </p>\r\n                  <p>\r\n                    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;电话号码：{{\r\n                      field[2]\r\n                    }}\r\n                  </p>\r\n                  <p>\r\n                    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;职务：{{\r\n                      field[4]\r\n                    }}\r\n                  </p>\r\n                  <p v-if=\"finalConfirmFlag == 0\">\r\n                    &nbsp;&nbsp;&nbsp;&nbsp;\r\n                    <button @click=\"deletePolice\">取消选择</button>\r\n                  </p>\r\n                  <p><br /></p>\r\n                </div>\r\n              </div>\r\n            </div>\r\n            <div\r\n              v-if=\"\r\n                ((policeCount !== 0 &&\r\n                  policeContent[0] !== policeInfo[policeCount - 1][0]) ||\r\n                  policeCount == 0) &&\r\n                policeQueryFlag !== -1\r\n              \"\r\n            >\r\n              <div class=\"policeContainer\">\r\n                <p><br /></p>\r\n                <p>&nbsp;&nbsp;&nbsp;&nbsp;警员编号：{{ policeContent[0] }}</p>\r\n                <p>&nbsp;&nbsp;&nbsp;&nbsp;姓名：{{ policeContent[1] }}</p>\r\n                <p>&nbsp;&nbsp;&nbsp;&nbsp;电话号码：{{ policeContent[2] }}</p>\r\n                <p>&nbsp;&nbsp;&nbsp;&nbsp;职务：{{ policeContent[4] }}</p>\r\n                <p v-if=\"policeChooseFlag == 0\">\r\n                  &nbsp;&nbsp;&nbsp;&nbsp;\r\n                  <button @click=\"confirmPolice\">确认选择</button>\r\n                </p>\r\n                <p v-else>\r\n                  &nbsp;&nbsp;&nbsp;&nbsp;\r\n                  <button @click=\"deletePolice\">取消选择</button>\r\n                </p>\r\n                <p><br /></p>\r\n              </div>\r\n            </div>\r\n          </div>\r\n          <div v-else-if=\"policeContent[3] == '离职'\">\r\n            此警员已离职，请重新选择警员！\r\n          </div>\r\n        </div>\r\n      </div>\r\n      <div v-else-if=\"caseContent[2] == '调查'\">\r\n        此案件已在调查中，请重新选择案件！\r\n      </div>\r\n      <div v-else-if=\"caseContent[2] == '结案'\">\r\n        此案件已结案，请重新选择案件！\r\n      </div>\r\n      <div v-else-if=\"caseQueryFlag == 0\">\r\n        此案件编号不存在，请重新选择案件！\r\n      </div>\r\n      <!-- <p>&nbsp;&nbsp;</p> -->\r\n    </div>\r\n    <p v-if=\"policeCount !== 0 && finalConfirmFlag == 0\">\r\n      <button @click=\"finalConfirm\">确认成立办案组</button>\r\n    </p>\r\n    <div v-if=\"finalConfirmFlag == 1\">\r\n      <br />\r\n      <button @click=\"next\">继续成立办案组</button>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport axios from \"axios\";\r\nexport default {\r\n  data() {\r\n    return {\r\n      inputCaseID: \"\",\r\n      inputPoliceID: \"\",\r\n      caseContent: [],\r\n      policeContent: [],\r\n      policeInfo: [[]],\r\n      caseQueryFlag: -1,\r\n      caseChooseFlag: 0,\r\n      caseQueryAgainFlag: 0,\r\n      policeQueryFlag: -1,\r\n      policeChooseFlag: 0,\r\n      policeChooseFlagArray: [],\r\n      policeCount: 0,\r\n      finalConfirmFlag: 0,\r\n      x: 0,\r\n      i: 0,\r\n    };\r\n  },\r\n  methods: {\r\n    queryCase() {\r\n      axios\r\n        .post(\"http://localhost:7078/api/queryCase\", {\r\n          InputTextCase: this.inputCaseID,\r\n        })\r\n        .then((response) => {\r\n          this.caseContent = response.data;\r\n          if (this.caseContent[0] !== null) {\r\n            this.caseQueryFlag = 1;\r\n            this.policeChooseFlag = 0;\r\n          } else {\r\n            this.caseQueryFlag = 0;\r\n          }\r\n        })\r\n        .catch((error) => {\r\n          console.error(error);\r\n        });\r\n    },\r\n    queryPolice() {\r\n      axios\r\n        .post(\"http://localhost:7078/api/queryPolice\", {\r\n          InputTextPolice: this.inputPoliceID,\r\n        })\r\n        .then((response) => {\r\n          this.policeContent = response.data;\r\n          if (this.policeContent[0] !== null) {\r\n            this.policeQueryFlag = 1;\r\n            this.policeChooseFlag = 0;\r\n          } else {\r\n            this.policeQueryFlag = 0;\r\n          }\r\n        })\r\n        .catch((error) => {\r\n          console.error(error);\r\n        });\r\n    },\r\n    confirmCase() {\r\n      this.inputCaseID = \"\";\r\n      this.caseChooseFlag = 1;\r\n    },\r\n    confirmCaseAgain() {\r\n      this.inputCaseID = \"\";\r\n      this.inputPoliceID = \"\";\r\n      this.caseContent = [];\r\n      this.policeContent = [];\r\n      this.policeInfo = [[]];\r\n      this.caseQueryFlag = -1;\r\n      this.caseChooseFlag = 0;\r\n      this.caseQueryAgainFlag = 0;\r\n      this.policeQueryFlag = -1;\r\n      this.policeChooseFlag = 0;\r\n      this.policeChooseFlagArray = [];\r\n      this.policeCount = 0;\r\n      this.finalConfirmFlag = 0;\r\n      this.x = 0;\r\n      this.i = 0;\r\n    },\r\n    confirmPolice() {\r\n      this.inputPoliceID = \"\";\r\n      this.policeChooseFlag = 1;\r\n      this.policeChooseFlagArray[this.policeCount] = 1;\r\n      this.policeInfo[this.policeCount] = this.policeContent;\r\n      this.policeCount += 1;\r\n    },\r\n    deletePolice() {\r\n      this.policeChooseFlagArray[this.i] = 0;\r\n      this.policeCount -= 1;\r\n      for (this.x = this.i + 1; this.x <= this.policeInfo.length; this.x++) {\r\n        this.policeInfo[this.i] = this.policeInfo[this.i + 1];\r\n      }\r\n      this.policeInfo.length -= 1;\r\n      this.policeQueryFlag = -1;\r\n    },\r\n    finalConfirm() {\r\n      this.finalConfirmFlag = 1;\r\n      axios.put(\"http://localhost:7078/api/modifyCaseStatus\", {\r\n        InputCase: this.caseContent[0],\r\n      });\r\n    },\r\n    next() {\r\n      this.inputCaseID = \"\";\r\n      this.inputPoliceID = \"\";\r\n      this.caseContent = [];\r\n      this.policeContent = [];\r\n      this.policeInfo = [[]];\r\n      this.caseQueryFlag = -1;\r\n      this.caseChooseFlag = 0;\r\n      this.caseQueryAgainFlag = 0;\r\n      this.policeQueryFlag = -1;\r\n      this.policeChooseFlag = 0;\r\n      this.policeChooseFlagArray = [];\r\n      this.policeCount = 0;\r\n      this.finalConfirmFlag = 0;\r\n      this.x = 0;\r\n      this.i = 0;\r\n    },\r\n  },\r\n};\r\n</script>\r\n\r\n<style>\r\n.sub-header {\r\n  overflow: hidden;\r\n  display: flex;\r\n  position: absolute;\r\n  top: 70px;\r\n  left: 199px;\r\n  width: calc(100% - 199px);\r\n  height: 7vh;\r\n  min-height: 40px;\r\n  align-items: center; /* 文字竖直方向居中对齐 */\r\n  background-color: #f2dccacf;\r\n  color: #000;\r\n  font-size: 30px;\r\n  font-weight: bold;\r\n}\r\n.main {\r\n  margin-top: 10vh;\r\n}\r\n.caseContainer {\r\n  width: 200pt;\r\n  background-color: rgb(20, 0, 98);\r\n  color: white;\r\n  position: relative;\r\n}\r\n.policeContainer {\r\n  width: 200pt;\r\n  background-color: rgb(98, 0, 0);\r\n  color: white;\r\n  position: relative;\r\n}\r\n.title {\r\n  text-align: center;\r\n}\r\n</style>\r\n\r\n<!-- 一组测试数据：H5605121 9123765 7398123-->\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}