{"ast":null,"code":"export default {\n  data() {\n    return {\n      dialogVisible: false,\n      errdialogVisible: false,\n      internalSelectedOptions: [],\n      // 修改此处使用一个内部属性\n      myAuthority: 0,\n      options: [{\n        label: '注册',\n        authority: '1',\n        icon: 'el-icon-star-off'\n      }, {\n        label: '警员信息管理',\n        authority: '0',\n        icon: 'el-icon-food'\n      }, {\n        label: '执法录像管理',\n        authority: '1',\n        icon: 'el-icon-food'\n      }\n      // 其他选项\n      ],\n\n      options2: [{\n        label: '案件分类与管理',\n        authority: '1',\n        icon: 'el-icon-star-off'\n      }, {\n        label: '犯罪数据统计',\n        authority: '1',\n        icon: 'el-icon-star-off'\n      }\n      // 其他选项\n      ],\n\n      options4: [{\n        label: '公民户籍管理',\n        authority: '1',\n        icon: 'el-icon-star-off'\n      }, {\n        label: '城市地区管理',\n        authority: '1',\n        icon: 'el-icon-star-off'\n      }, {\n        label: '家族背景调查',\n        authority: '1',\n        icon: 'el-icon-star-off'\n      }],\n      options6: [{\n        label: '案件办理',\n        authority: '1',\n        icon: 'el-icon-star-off'\n      }]\n    };\n  },\n  props: {\n    selectedOptions: {\n      type: Array,\n      default: () => []\n    }\n  },\n  methods: {\n    showMoreOptions(selectedOptions, authority) {\n      console.log('打开更多功能');\n      this.internalSelectedOptions = selectedOptions; // 修改此处为内部属性\n      this.myAuthority = authority;\n      console.log(this.myAuthority);\n      this.dialogVisible = true;\n      console.log(this.internalSelectedOptions);\n    },\n    handleClose() {\n      this.dialogVisible = false;\n    },\n    confirmOptions() {\n      // 在这里处理选项确认的逻辑\n      // 更新常用功能栏的显示等\n      var cnt = this.internalSelectedOptions.length;\n      console.log(cnt);\n      if (cnt <= 12) {\n        this.dialogVisible = false;\n        this.$emit('options-selected', this.internalSelectedOptions); // 发送事件到父组件，传递选中的选项\n      } else {\n        this.errdialogVisible = true;\n      }\n    },\n    errClose() {\n      this.errdialogVisible = false;\n    },\n    errConfirm() {\n      this.errdialogVisible = false;\n    }\n  }\n};","map":{"version":3,"names":["data","dialogVisible","errdialogVisible","internalSelectedOptions","myAuthority","options","label","authority","icon","options2","options4","options6","props","selectedOptions","type","Array","default","methods","showMoreOptions","console","log","handleClose","confirmOptions","cnt","length","$emit","errClose","errConfirm"],"sources":["D:\\Work\\大三上\\java\\endOfTermProj\\Java-EE-Police-Affair-System\\front\\dbproject\\src\\components\\Menu\\MoreOptionsDialog.vue"],"sourcesContent":["<template>\r\n  <div style=\"min-width:600px\">\r\n    <!-- 其他内容 -->\r\n    <el-dialog title=\"更多功能\" v-model=\"dialogVisible\" @open=\"dialogVisible\" @close=\"handleClose\">\r\n      <h2>警员管理<br><div style=\"color:#d7caaa\">----------------------------------------------------------------</div></h2>\r\n      <el-checkbox-group :modelValue=\"internalSelectedOptions\" @update:modelValue=\"internalSelectedOptions = $event\">\r\n        <el-checkbox style=\"width:150px\" id=\"cb\" v-for=\"option in options\" :key=\"option.label\" :label=\"option.label\" :disabled=\"option.authority > myAuthority\">{{ option.label }}</el-checkbox>\r\n      </el-checkbox-group>\r\n\r\n      <h2><br>案件管理<br><div style=\"color:#d7caaa\">----------------------------------------------------------------</div></h2>\r\n      <el-checkbox-group :modelValue=\"internalSelectedOptions\" @update:modelValue=\"internalSelectedOptions = $event\">\r\n        <el-checkbox style=\"width:150px\" id=\"cb\" v-for=\"option in options2\" :key=\"option.label\" :label=\"option.label\" :disabled=\"option.authority > myAuthority\">{{ option.label }}</el-checkbox>\r\n      </el-checkbox-group>\r\n\r\n      <h2><br>城区和居民管理<br><div style=\"color:#d7caaa\">----------------------------------------------------------------</div></h2>\r\n      <el-checkbox-group :modelValue=\"internalSelectedOptions\" @update:modelValue=\"internalSelectedOptions = $event\">\r\n        <el-checkbox style=\"width:150px\" id=\"cb\" v-for=\"option in options4\" :key=\"option.label\" :label=\"option.label\" :disabled=\"option.authority > myAuthority\">{{ option.label }}</el-checkbox>\r\n      </el-checkbox-group>\r\n\r\n      <h2><br>案件办理<br><div style=\"color:#d7caaa\">----------------------------------------------------------------</div></h2>\r\n      <el-checkbox-group :modelValue=\"internalSelectedOptions\" @update:modelValue=\"internalSelectedOptions = $event\">\r\n        <el-checkbox style=\"width:150px\" id=\"cb\" v-for=\"option in options6\" :key=\"option.label\" :label=\"option.label\" :disabled=\"option.authority > myAuthority\">{{ option.label }}</el-checkbox>\r\n      </el-checkbox-group>\r\n      <el-button @click=\"confirmOptions\">确认</el-button>\r\n    </el-dialog>\r\n\r\n    <el-dialog title=\"警告\" v-model=\"errdialogVisible\" @close=\"errClose\"><h2>最多只能选择12个功能！</h2>\r\n      <el-button @click=\"errConfirm\">确认</el-button>\r\n    </el-dialog>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n\r\n  data() {\r\n    return {\r\n      dialogVisible: false,\r\n      errdialogVisible: false,\r\n      internalSelectedOptions: [], // 修改此处使用一个内部属性\r\n      myAuthority: 0,\r\n      options: [\r\n        { label: '注册', authority: '1', icon: 'el-icon-star-off' },\r\n        { label: '警员信息管理', authority: '0', icon: 'el-icon-food' },\r\n        { label: '执法录像管理', authority: '1', icon: 'el-icon-food' },\r\n        // 其他选项\r\n      ],\r\n      options2: [\r\n        { label: '案件分类与管理', authority: '1', icon: 'el-icon-star-off' },\r\n        { label: '犯罪数据统计', authority: '1', icon: 'el-icon-star-off' },\r\n        // 其他选项\r\n      ],\r\n      options4:[\r\n        { label: '公民户籍管理', authority: '1', icon: 'el-icon-star-off' },\r\n        { label: '城市地区管理', authority: '1', icon: 'el-icon-star-off' },\r\n        { label: '家族背景调查', authority: '1', icon: 'el-icon-star-off' },\r\n      ],\r\n      options6:[\r\n        { label: '案件办理', authority: '1', icon: 'el-icon-star-off' },\r\n      ],\r\n    };\r\n  },\r\n  props: {\r\n    selectedOptions: {\r\n      type: Array,\r\n      default: () => []\r\n    }\r\n  },\r\n  methods: {\r\n    showMoreOptions(selectedOptions, authority) {\r\n      console.log('打开更多功能');\r\n      this.internalSelectedOptions = selectedOptions; // 修改此处为内部属性\r\n      this.myAuthority=authority;\r\n      console.log(this.myAuthority);\r\n      this.dialogVisible = true;\r\n      console.log(this.internalSelectedOptions);\r\n    },\r\n    handleClose() {\r\n      this.dialogVisible = false;\r\n    },\r\n    confirmOptions() {\r\n      // 在这里处理选项确认的逻辑\r\n      // 更新常用功能栏的显示等\r\n      var cnt = this.internalSelectedOptions.length;\r\n      console.log(cnt);\r\n      if(cnt <= 12){\r\n        this.dialogVisible = false;\r\n        this.$emit('options-selected', this.internalSelectedOptions); // 发送事件到父组件，传递选中的选项\r\n      }\r\n      else{\r\n        this.errdialogVisible = true;\r\n      }\r\n    },\r\n    errClose() {\r\n      this.errdialogVisible = false;\r\n    },\r\n    errConfirm(){\r\n      this.errdialogVisible = false;\r\n    }\r\n  },\r\n}\r\n</script>"],"mappings":"AAiCA,eAAe;EAEbA,IAAIA,CAAA,EAAG;IACL,OAAO;MACLC,aAAa,EAAE,KAAK;MACpBC,gBAAgB,EAAE,KAAK;MACvBC,uBAAuB,EAAE,EAAE;MAAE;MAC7BC,WAAW,EAAE,CAAC;MACdC,OAAO,EAAE,CACP;QAAEC,KAAK,EAAE,IAAI;QAAEC,SAAS,EAAE,GAAG;QAAEC,IAAI,EAAE;MAAmB,CAAC,EACzD;QAAEF,KAAK,EAAE,QAAQ;QAAEC,SAAS,EAAE,GAAG;QAAEC,IAAI,EAAE;MAAe,CAAC,EACzD;QAAEF,KAAK,EAAE,QAAQ;QAAEC,SAAS,EAAE,GAAG;QAAEC,IAAI,EAAE;MAAe;MACxD;MAAA,CACD;;MACDC,QAAQ,EAAE,CACR;QAAEH,KAAK,EAAE,SAAS;QAAEC,SAAS,EAAE,GAAG;QAAEC,IAAI,EAAE;MAAmB,CAAC,EAC9D;QAAEF,KAAK,EAAE,QAAQ;QAAEC,SAAS,EAAE,GAAG;QAAEC,IAAI,EAAE;MAAmB;MAC5D;MAAA,CACD;;MACDE,QAAQ,EAAC,CACP;QAAEJ,KAAK,EAAE,QAAQ;QAAEC,SAAS,EAAE,GAAG;QAAEC,IAAI,EAAE;MAAmB,CAAC,EAC7D;QAAEF,KAAK,EAAE,QAAQ;QAAEC,SAAS,EAAE,GAAG;QAAEC,IAAI,EAAE;MAAmB,CAAC,EAC7D;QAAEF,KAAK,EAAE,QAAQ;QAAEC,SAAS,EAAE,GAAG;QAAEC,IAAI,EAAE;MAAmB,CAAC,CAC9D;MACDG,QAAQ,EAAC,CACP;QAAEL,KAAK,EAAE,MAAM;QAAEC,SAAS,EAAE,GAAG;QAAEC,IAAI,EAAE;MAAmB,CAAC;IAE/D,CAAC;EACH,CAAC;EACDI,KAAK,EAAE;IACLC,eAAe,EAAE;MACfC,IAAI,EAAEC,KAAK;MACXC,OAAO,EAAEA,CAAA,KAAM;IACjB;EACF,CAAC;EACDC,OAAO,EAAE;IACPC,eAAeA,CAACL,eAAe,EAAEN,SAAS,EAAE;MAC1CY,OAAO,CAACC,GAAG,CAAC,QAAQ,CAAC;MACrB,IAAI,CAACjB,uBAAsB,GAAIU,eAAe,EAAE;MAChD,IAAI,CAACT,WAAW,GAACG,SAAS;MAC1BY,OAAO,CAACC,GAAG,CAAC,IAAI,CAAChB,WAAW,CAAC;MAC7B,IAAI,CAACH,aAAY,GAAI,IAAI;MACzBkB,OAAO,CAACC,GAAG,CAAC,IAAI,CAACjB,uBAAuB,CAAC;IAC3C,CAAC;IACDkB,WAAWA,CAAA,EAAG;MACZ,IAAI,CAACpB,aAAY,GAAI,KAAK;IAC5B,CAAC;IACDqB,cAAcA,CAAA,EAAG;MACf;MACA;MACA,IAAIC,GAAE,GAAI,IAAI,CAACpB,uBAAuB,CAACqB,MAAM;MAC7CL,OAAO,CAACC,GAAG,CAACG,GAAG,CAAC;MAChB,IAAGA,GAAE,IAAK,EAAE,EAAC;QACX,IAAI,CAACtB,aAAY,GAAI,KAAK;QAC1B,IAAI,CAACwB,KAAK,CAAC,kBAAkB,EAAE,IAAI,CAACtB,uBAAuB,CAAC,EAAE;MAChE,OACI;QACF,IAAI,CAACD,gBAAe,GAAI,IAAI;MAC9B;IACF,CAAC;IACDwB,QAAQA,CAAA,EAAG;MACT,IAAI,CAACxB,gBAAe,GAAI,KAAK;IAC/B,CAAC;IACDyB,UAAUA,CAAA,EAAE;MACV,IAAI,CAACzB,gBAAe,GAAI,KAAK;IAC/B;EACF;AACF"},"metadata":{},"sourceType":"module","externalDependencies":[]}